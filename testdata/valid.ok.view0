// snippet dEfer
defer func() {
if err != nil {
err = fmt.Errorf("%s:%v", filename, err)
}
}()

// end dEfer
